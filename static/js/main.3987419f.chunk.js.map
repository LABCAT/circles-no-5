{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/classes/AnimatedCircle.js","audio/circles-no-5.ogg","audio/circles-no-5.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","AnimatedCircle","x","y","hue","size","lifetime","opacity","this","p","origin","createVector","maxSize","setLifeTime","frameRate","getFrameRate","totalsFrames","i","stroke","ellipse","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","tempo","barAsSeconds","loadMidi","Midi","fromUrl","midi","then","result","noteSet1","tracks","notes","noteSet2","scheduleCueSet","document","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","length","note","ticks","time","addCue","bgHue","packedCirclesSet","setup","createCanvas","colorMode","HSB","random","background","radius","circle","r","overlapping","existingCircle","dist","push","draw","isPlaying","mainCircleSet","bigCircleIndex","xPos","yPos","hueDirection","sizeReducer","executeCueSet1","duration","Math","mediumCircleIndex","mediumCircleHue","mediumCircleSize","mediumCircleIndexCount","smallCircleIndex","executeCueSet2","addCircle","saturation","brightness","alpha","delayAmount","setTimeout","mousePressed","pause","parseInt","currentTime","buffer","reset","addClass","play","creditsLogged","console","log","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3987419f.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default class AnimatedCircle {\n    constructor(p5, x, y, hue, size, lifetime, opacity = 0.1) {\n        this.p = p5;\n        this.origin = this.p.createVector(x, y);\n        this.hue = hue;\n        this.size = 0;\n        this.maxSize = size;\n        this.setLifeTime(lifetime);\n        this.opacity = opacity;\n    }\n    setLifeTime(lifetime) {\n        const frameRate = this.p.getFrameRate() ? this.p.getFrameRate() : 60;\n        this.totalsFrames = frameRate * lifetime;\n    }\n\n    draw() {\n        for (let i = 0; i < this.maxSize / this.totalsFrames; i++) {\n            this.p.stroke(this.hue, 0, 0);\n            this.p.fill(this.hue, 100, 100, this.opacity);\n            this.p.ellipse(this.origin.x, this.origin.y, this.size, this.size);\n            if(this.size < this.maxSize){\n                this.size++;\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/circles-no-5.684b96df.ogg\";","export default __webpack_public_path__ + \"static/media/circles-no-5.b54c0b1d.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport AnimatedCircle from './classes/AnimatedCircle.js';\n\nimport audio from \"../audio/circles-no-5.ogg\";\nimport midi from \"../audio/circles-no-5.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.tempo = 86;\n\n        p.barAsSeconds = 60 / p.tempo * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    const noteSet1 = result.tracks[6].notes; // Synth 3 - FullerStrings\n                    const noteSet2 = result.tracks[1].notes; // Redrum - Dub Kit 01\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2', true);\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.bgHue = 0;\n\n        p.packedCirclesSet = [];\n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.colorMode(p.HSB);\n            p.bgHue = p.random(0, 360);\n            p.background(p.bgHue, 100, 100, 0.2);\n\n            while(p.packedCirclesSet.length < 200) {\n                let radius = p.random(p.width / 6, p.width / 3) / 2; \n                if(p.packedCirclesSet.length >= 13) {\n                    radius = p.random(p.width / 64, p.width / 32) / 2\n                }\n                else if(p.packedCirclesSet.length >= 5) {\n                    radius = p.random(p.width / 24, p.width / 12) / 2; \n                }\n                const circle = {\n                    x: p.random(0, p.width),\n                    y: p.random(0, p.height),\n                    r: radius\n                }\n                \n                let overlapping = false;\n                for (let i = 0; i < p.packedCirclesSet.length; i++) {\n                    const existingCircle = p.packedCirclesSet[i];\n                    const distance = p.dist(circle.x, circle.y, existingCircle.x, existingCircle.y);\n                    if (distance < circle.r + existingCircle.r) {\n                        overlapping = true;\n                        break;\n                    }\n                }\n                if(!overlapping) {\n                    p.packedCirclesSet.push(circle);\n                }\n            }\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                // p.background(p.bgHue, 100, 100);\n                for (let i = 0; i < p.mainCircleSet.length; i++) {\n                    const circle = p.mainCircleSet[i];\n                    circle.draw();\n                }\n            }\n        }\n\n        p.mainCircleSet = [];\n        p.bigCircleIndex = 0;\n        p.xPos = 0;\n        p.yPos = 0;\n        p.hue = 0;\n        p.hueDirection = 0;\n        p.size = 0;\n        p.sizeReducer = 0;\n\n        p.executeCueSet1 = (note) => {\n            const { duration, currentCue } = note;\n            \n            if(currentCue % 16 == 1 && currentCue < 81){\n                const circle = p.packedCirclesSet[p.bigCircleIndex];\n                p.hue = p.random(0, 360);\n                p.hueDirection = Math.random() < 0.5 ? 'up' : 'down';\n                p.xPos = circle.x;\n                p.yPos = circle.y;\n                p.size = circle.r * 2;\n                p.sizeReducer = p.size / 8;\n                p.bigCircleIndex++;\n            }\n\n            if(currentCue < 81) {\n                const size = duration > 1 ? p.size : p.size / 16;\n                p.mainCircleSet.push(\n                    new AnimatedCircle(p, p.xPos, p.yPos, p.hue, size, p.barAsSeconds / 2)\n                );\n                if(duration > 1){\n                    p.size = p.size - p.sizeReducer;\n                    if(p.hueDirection === 'up') {\n                        p.hue = p.hue + 15 < 360 ? p.hue + 15 : p.hue + 15 - 360;\n                    }\n                    else {\n                        p.hue = p.hue - 15 > 0 ? p.hue - 15 : p.hue - 15 + 360;\n                    }\n                }\n            }\n            else {\n                p.mainCircleSet.push(\n                    new AnimatedCircle(p, p.width / 2, p.height / 2, p.hue, p.width * 2, p.barAsSeconds / 2, 0.002)\n                );\n            }\n            \n        }\n\n        p.mediumCircleIndex = 5;\n        p.mediumCircleHue = 5;\n        p.mediumCircleSize = 0;\n        p.mediumCircleIndexCount = 0;\n\n        p.smallCircleIndex = 13;\n\n        p.executeCueSet2 = (note) => {\n            const { duration, midi } = note;\n            let addCircle = false,\n                hue = 0,\n                saturation = 0,\n                brightness = 0, \n                alpha = 1,\n                delayAmount = duration * 1000;\n            p.stroke(0);\n            \n            switch (midi) {\n                case 36:\n                    addCircle = true;\n                    brightness = 100;\n                    break;\n                case 37:\n                    addCircle = true;\n                    break;\n                case 42:\n                    addCircle = true;\n                    hue = p.random(0, 360);\n                    saturation = 100;\n                    brightness = 100;\n                    alpha = 0.1;\n                    break;\n                case 44:\n                    addCircle = true;\n                    p.mediumCircleHue = p.mediumCircleIndexCount === 0 ? p.random(0, 360) : p.mediumCircleHue;\n                    saturation = 75;\n                    brightness = 75;\n                    break;\n                case 45:\n                    addCircle = true;\n                    hue = p.bgHue;\n                    saturation = 100;\n                    brightness = 100;\n                    alpha = 0.5;\n                    break;\n                default:\n                    addCircle = false;\n                    break;\n            }\n\n            if(addCircle){\n                const circle = midi === 44 ? p.packedCirclesSet[p.mediumCircleIndex] : p.packedCirclesSet[p.smallCircleIndex], \n                    { x, y, r } = circle, \n                    size = r * 2;\n                \n                for (let i = 1; i < 4; i = i + i / 2) {\n                    if(midi === 44) {\n                        p.mediumCircleSize = p.mediumCircleIndexCount === 0 ? size : size - (size / 6  * p.mediumCircleIndexCount);\n                        setTimeout(\n                            function () {\n                                const size = i > 2 ? p.mediumCircleSize / 2 : p.mediumCircleSize;\n                                p.stroke(0, 0, 100);\n                                p.fill(p.mediumCircleHue, saturation, brightness, alpha);\n                                p.ellipse(x, y, size, size);\n                                p.mediumCircleHue = p.mediumCircleHue + 60 > 360 ? p.mediumCircleHue + 60 - 360 : p.mediumCircleHue + 60;\n                            },\n                            (delayAmount * i)\n                        );\n                        \n                    }\n                    else {\n                        setTimeout(\n                            function () {\n                                if(midi === 45) {\n                                    p.stroke(0, 0, 100);\n                                }\n                                else if(midi === 42) {\n                                    p.stroke(hue, saturation, brightness, alpha);\n                                }\n                                p.fill(hue, saturation, brightness, alpha);\n                                p.ellipse(x, y, size / i, size / i);\n                                if(midi === 36 || midi === 37) {\n                                    if(brightness) {\n                                        brightness = 0;\n                                    }\n                                    else {\n                                        brightness = 100;\n                                    }\n                                }\n                            },\n                            (delayAmount * i)\n                        );\n                    }\n                }\n                if(midi === 44) {\n                    p.mediumCircleIndexCount++;\n                    if(p.mediumCircleIndexCount > 5) {\n                        p.mediumCircleIndexCount = 0;\n                        p.mediumCircleIndex++\n                    }\n                }\n                else {\n                    p.smallCircleIndex++\n                }\n                \n            }\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}